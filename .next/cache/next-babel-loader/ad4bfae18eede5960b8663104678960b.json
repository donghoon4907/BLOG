{"ast":null,"code":"var __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport React, { useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport Input from \"../common/Input\";\nimport Button from \"../common/Button\";\nimport { Label } from \"../common/Form\";\nimport { Search, Filter } from \"../icon\";\nimport searchOptions from \"./search_options.json\"; // import SearchResult from \"../common/SearchResult\";\n// import { useDebounce } from \"../../hooks\";\n\nvar SearchForm = styled.form.withConfig({\n  displayName: \"SearchBar__SearchForm\",\n  componentId: \"sc-118hiqe-0\"\n})([\"position:relative;margin:0 auto;width:100%;\"]);\nvar Wrapper = styled.div.withConfig({\n  displayName: \"SearchBar__Wrapper\",\n  componentId: \"sc-118hiqe-1\"\n})([\"position:relative;display:flex;justify-content:space-between;\"]);\nvar SearchInput = styled(Input).withConfig({\n  displayName: \"SearchBar__SearchInput\",\n  componentId: \"sc-118hiqe-2\"\n})([\"background:\", \";padding:5px;font-size:14px;border-radius:3px;text-align:center;position:relative;&::placeholder{opacity:0.8;font-weight:200;}\"], function (props) {\n  return props.theme.bgColor;\n});\nvar IconWrapper = styled.div.withConfig({\n  displayName: \"SearchBar__IconWrapper\",\n  componentId: \"sc-118hiqe-3\"\n})([\"position:absolute;right:35px;top:5px;\"]);\nvar FilterWrapper = styled.div.withConfig({\n  displayName: \"SearchBar__FilterWrapper\",\n  componentId: \"sc-118hiqe-4\"\n})([\"\", \";margin-top:5px;width:100%;height:auto;display:\", \";flex-direction:column;\"], function (props) {\n  return props.theme.whiteBox;\n}, function (props) {\n  return props.activeFilter ? \"flex\" : \"none\";\n});\nvar FilterColumn = styled.div.withConfig({\n  displayName: \"SearchBar__FilterColumn\",\n  componentId: \"sc-118hiqe-5\"\n})([\"display:flex;justfiy-content:flex-start;align-items:center;padding:10px;\"]);\nvar FilterCategory = styled.div.withConfig({\n  displayName: \"SearchBar__FilterCategory\",\n  componentId: \"sc-118hiqe-6\"\n})([\"font-size:20px;font-weight:500;text-align:center;padding:10px;\"]);\nvar FilterSelector = styled.div.withConfig({\n  displayName: \"SearchBar__FilterSelector\",\n  componentId: \"sc-118hiqe-7\"\n})([\"font-size:16px;padding:10px;flex:1;& input{margin-right:5px;}& span{margin-left:10px;}\"]);\n\nvar SearchBar = function SearchBar() {\n  var router = useRouter();\n\n  var _useState = useState(false),\n      activeFilter = _useState[0],\n      setActiveFilter = _useState[1];\n\n  var _useState2 = useState(\"createdAt_DESC\"),\n      sort = _useState2[0],\n      setSort = _useState2[1];\n\n  var _useState3 = useState([]),\n      filters = _useState3[0],\n      setFilters = _useState3[1];\n\n  var _useState4 = useState(router.query.keyword || \"\"),\n      search = _useState4[0],\n      setSearch = _useState4[1]; // const [searchKeyword, setSearchKeyword] = useDebounce(\"\", 500);\n\n\n  var handleClickFilter = useCallback(function () {\n    setActiveFilter(!activeFilter);\n  }, [activeFilter]);\n  var handleChangeSort = useCallback(function (e) {\n    setSort(e.target.value);\n  }, []);\n  var handleChangeFilter = useCallback(function (e) {\n    var _e$target = e.target,\n        checked = _e$target.checked,\n        value = _e$target.value;\n\n    if (checked) {\n      setFilters(function (prev) {\n        return prev.concat(value);\n      });\n    } else {\n      setFilters(function (prev) {\n        return prev.filter(function (v) {\n          return v !== value;\n        });\n      });\n    }\n  }, []);\n  var handleChangeSearch = useCallback(function (e) {\n    setSearch(e.target.value); // setSearchKeyword(e.target.value);\n  }, []);\n  var handleSearchSubmit = useCallback(function (e) {\n    e.preventDefault();\n    setActiveFilter(false);\n    router.push(\"/search?keyword=\".concat(search, \"&sort=\").concat(sort, \"&filter=\").concat(filters.join(\",\")));\n  }, [search, sort, filters]);\n  return __jsx(SearchForm, {\n    onSubmit: handleSearchSubmit\n  }, __jsx(Label, {\n    htmlFor: \"search\",\n    val: search\n  }, \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"), __jsx(Wrapper, null, __jsx(SearchInput, {\n    placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    name: \"search\",\n    value: search,\n    onChange: handleChangeSearch,\n    autoComplete: \"off\"\n  }), __jsx(IconWrapper, {\n    onClick: handleSearchSubmit\n  }, __jsx(Search, null)), __jsx(\"div\", {\n    onClick: handleClickFilter\n  }, __jsx(Filter, {\n    style: {\n      width: 30,\n      height: 30\n    }\n  }))), __jsx(FilterWrapper, {\n    activeFilter: activeFilter\n  }, __jsx(FilterColumn, null, __jsx(FilterCategory, null, \"\\uC815\\uB82C\"), __jsx(FilterSelector, null, searchOptions.sort.map(function (v) {\n    return __jsx(\"span\", {\n      key: v.id\n    }, __jsx(\"input\", {\n      type: \"radio\",\n      name: \"radio\",\n      id: v.id,\n      value: v.value,\n      onChange: handleChangeSort\n    }), __jsx(\"label\", {\n      htmlFor: v.id\n    }, v.text));\n  }))), __jsx(FilterColumn, null, __jsx(FilterCategory, null, \"\\uC0C1\\uD0DC\"), __jsx(FilterSelector, null, searchOptions.filter.map(function (v) {\n    return __jsx(\"span\", {\n      key: v.id\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      name: \"checkbox\",\n      id: v.id,\n      value: v.value,\n      onChange: handleChangeFilter\n    }), __jsx(\"label\", {\n      htmlFor: v.id\n    }, v.text));\n  }))), __jsx(FilterColumn, null, __jsx(Button, {\n    text: \"\\uC801\\uC6A9\",\n    type: \"submit\"\n  }))));\n};\n\nexport default SearchBar;","map":null,"metadata":{},"sourceType":"module"}