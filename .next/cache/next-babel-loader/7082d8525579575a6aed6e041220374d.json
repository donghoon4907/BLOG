{"ast":null,"code":"var __jsx = React.createElement;\nimport Router from \"next/router\";\nimport React, { useCallback } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { useInput } from \"../../hooks\";\nimport { logInMutation } from \"../../graphql/auth/mutation/login\";\nimport SignInPresenter from \"./SignInPresenter\";\nimport { setAccessToken } from \"../../lib/token\";\n\nconst SignInContainer = () => {\n  const [login, {\n    loading\n  }] = useMutation(logInMutation);\n  const email = useInput(\"\");\n  const pwd = useInput(\"\");\n  const handleSubmit = useCallback(async e => {\n    e.preventDefault();\n\n    if (loading) {\n      return alert(\"요청 중입니다. 잠시만 기다려주세요.\");\n    }\n\n    try {\n      const {\n        data: {\n          logIn\n        }\n      } = await login({\n        variables: {\n          email: email.value,\n          pwd: pwd.value\n        }\n      });\n\n      if (logIn) {\n        setAccessToken(logIn);\n        Router.push(\"/\");\n      }\n    } catch (error) {\n      const {\n        message\n      } = JSON.parse(error.message);\n      alert(message);\n    }\n  }, [email.value, pwd.value, loading]);\n  return __jsx(SignInPresenter, {\n    loading: loading,\n    email: email,\n    pwd: pwd,\n    onSubmit: handleSubmit\n  });\n};\n\nexport default SignInContainer;","map":null,"metadata":{},"sourceType":"module"}