{"ast":null,"code":"var __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport React, { useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport Input from \"../common/Input\";\nimport Button from \"../common/Button\";\nimport { Label } from \"../common/Form\";\nimport { Search, Filter } from \"../icon\";\nimport searchOptions from \"./search_options.json\"; // import SearchResult from \"../common/SearchResult\";\n// import { useDebounce } from \"../../hooks\";\n\nconst SearchForm = styled.form.withConfig({\n  displayName: \"SearchBar__SearchForm\",\n  componentId: \"sc-118hiqe-0\"\n})([\"position:relative;margin:0 auto;width:100%;\"]);\nconst Wrapper = styled.div.withConfig({\n  displayName: \"SearchBar__Wrapper\",\n  componentId: \"sc-118hiqe-1\"\n})([\"position:relative;display:flex;justify-content:space-between;\"]);\nconst SearchInput = styled(Input).withConfig({\n  displayName: \"SearchBar__SearchInput\",\n  componentId: \"sc-118hiqe-2\"\n})([\"background:\", \";padding:5px;font-size:14px;border-radius:3px;text-align:center;position:relative;&::placeholder{opacity:0.8;font-weight:200;}\"], props => props.theme.bgColor);\nconst IconWrapper = styled.div.withConfig({\n  displayName: \"SearchBar__IconWrapper\",\n  componentId: \"sc-118hiqe-3\"\n})([\"position:absolute;right:35px;top:5px;\"]);\nconst FilterWrapper = styled.div.withConfig({\n  displayName: \"SearchBar__FilterWrapper\",\n  componentId: \"sc-118hiqe-4\"\n})([\"\", \";margin-top:5px;width:100%;height:auto;display:\", \";flex-direction:column;\"], props => props.theme.whiteBox, props => props.activeFilter ? \"flex\" : \"none\");\nconst FilterColumn = styled.div.withConfig({\n  displayName: \"SearchBar__FilterColumn\",\n  componentId: \"sc-118hiqe-5\"\n})([\"display:flex;justfiy-content:flex-start;align-items:center;padding:10px;\"]);\nconst FilterCategory = styled.div.withConfig({\n  displayName: \"SearchBar__FilterCategory\",\n  componentId: \"sc-118hiqe-6\"\n})([\"font-size:20px;font-weight:500;text-align:center;padding:10px;\"]);\nconst FilterSelector = styled.div.withConfig({\n  displayName: \"SearchBar__FilterSelector\",\n  componentId: \"sc-118hiqe-7\"\n})([\"font-size:16px;padding:10px;flex:1;& input{margin-right:5px;}& span{margin-left:10px;}\"]);\n\nconst SearchBar = () => {\n  const router = useRouter();\n  const {\n    0: activeFilter,\n    1: setActiveFilter\n  } = useState(false);\n  const {\n    0: sort,\n    1: setSort\n  } = useState(\"createdAt_DESC\");\n  const {\n    0: filters,\n    1: setFilters\n  } = useState([]);\n  const {\n    0: search,\n    1: setSearch\n  } = useState(router.query.keyword || \"\"); // const [searchKeyword, setSearchKeyword] = useDebounce(\"\", 500);\n\n  const handleClickFilter = useCallback(() => {\n    setActiveFilter(!activeFilter);\n  }, [activeFilter]);\n  const handleChangeSort = useCallback(e => {\n    setSort(e.target.value);\n  }, []);\n  const handleChangeFilter = useCallback(e => {\n    const {\n      checked,\n      value\n    } = e.target;\n\n    if (checked) {\n      setFilters(prev => prev.concat(value));\n    } else {\n      setFilters(prev => prev.filter(v => v !== value));\n    }\n  }, []);\n  const handleChangeSearch = useCallback(e => {\n    setSearch(e.target.value); // setSearchKeyword(e.target.value);\n  }, []);\n  const handleSearchSubmit = useCallback(e => {\n    e.preventDefault();\n    setActiveFilter(false);\n    router.push(`/search?keyword=${search}&sort=${sort}&filter=${filters.join(\",\")}`);\n  }, [search, sort, filters]);\n  return __jsx(SearchForm, {\n    onSubmit: handleSearchSubmit\n  }, __jsx(Label, {\n    htmlFor: \"search\",\n    val: search\n  }, \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"), __jsx(Wrapper, null, __jsx(SearchInput, {\n    placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    name: \"search\",\n    value: search,\n    onChange: handleChangeSearch,\n    autoComplete: \"off\"\n  }), __jsx(IconWrapper, {\n    onClick: handleSearchSubmit\n  }, __jsx(Search, null)), __jsx(\"div\", {\n    onClick: handleClickFilter\n  }, __jsx(Filter, {\n    style: {\n      width: 30,\n      height: 30\n    }\n  }))), __jsx(FilterWrapper, {\n    activeFilter: activeFilter\n  }, __jsx(FilterColumn, null, __jsx(FilterCategory, null, \"\\uC815\\uB82C\"), __jsx(FilterSelector, null, searchOptions.sort.map(v => __jsx(\"span\", {\n    key: v.id\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"radio\",\n    id: v.id,\n    value: v.value,\n    onChange: handleChangeSort\n  }), __jsx(\"label\", {\n    htmlFor: v.id\n  }, v.text))))), __jsx(FilterColumn, null, __jsx(FilterCategory, null, \"\\uC0C1\\uD0DC\"), __jsx(FilterSelector, null, searchOptions.filter.map(v => __jsx(\"span\", {\n    key: v.id\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    name: \"checkbox\",\n    id: v.id,\n    value: v.value,\n    onChange: handleChangeFilter\n  }), __jsx(\"label\", {\n    htmlFor: v.id\n  }, v.text))))), __jsx(FilterColumn, null, __jsx(Button, {\n    text: \"\\uC801\\uC6A9\",\n    type: \"submit\"\n  }))));\n};\n\nexport default SearchBar;","map":null,"metadata":{},"sourceType":"module"}