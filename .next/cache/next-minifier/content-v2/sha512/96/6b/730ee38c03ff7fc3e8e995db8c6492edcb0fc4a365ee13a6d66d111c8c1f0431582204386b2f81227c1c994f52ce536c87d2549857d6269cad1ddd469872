{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{\"9Coe\":function(e,t,n){\"use strict\";var r=n(\"nOHt\"),a=n(\"q1tI\"),i=n.n(a),o=n(\"vOnD\"),c=n(\"4lbY\"),u=n(\"Okwz\"),l=n(\"ppIK\"),s=n(\"z75s\"),d=n(\"BJE2\"),p=i.a.createElement,f=o.d.form.withConfig({displayName:\"SearchBar__SearchForm\",componentId:\"sc-118hiqe-0\"})([\"position:relative;margin:0 auto;width:100%;\"]),h=o.d.div.withConfig({displayName:\"SearchBar__Wrapper\",componentId:\"sc-118hiqe-1\"})([\"position:relative;display:flex;justify-content:space-between;\"]),y=Object(o.d)(c.a).withConfig({displayName:\"SearchBar__SearchInput\",componentId:\"sc-118hiqe-2\"})([\"background:\",\";padding:5px;font-size:14px;border-radius:3px;text-align:center;position:relative;&::placeholder{opacity:0.8;font-weight:200;}\"],(function(e){return e.theme.bgColor})),m=o.d.div.withConfig({displayName:\"SearchBar__IconWrapper\",componentId:\"sc-118hiqe-3\"})([\"position:absolute;right:35px;top:5px;\"]),g=o.d.div.withConfig({displayName:\"SearchBar__FilterWrapper\",componentId:\"sc-118hiqe-4\"})([\"\",\";margin-top:5px;width:100%;height:auto;display:\",\";flex-direction:column;\"],(function(e){return e.theme.whiteBox}),(function(e){return e.activeFilter?\"flex\":\"none\"})),v=o.d.div.withConfig({displayName:\"SearchBar__FilterColumn\",componentId:\"sc-118hiqe-5\"})([\"display:flex;justfiy-content:flex-start;align-items:center;padding:10px;\"]),w=o.d.div.withConfig({displayName:\"SearchBar__FilterCategory\",componentId:\"sc-118hiqe-6\"})([\"font-size:20px;font-weight:500;text-align:center;padding:10px;\"]),b=o.d.div.withConfig({displayName:\"SearchBar__FilterSelector\",componentId:\"sc-118hiqe-7\"})([\"font-size:16px;padding:10px;flex:1;& input{margin-right:5px;}& span{margin-left:10px;}\"]);t.a=function(){var e,t,n=Object(r.useRouter)();n.query.keyword&&(e=n.query.keyword[0]||\"\",t=n.query.keyword[1]||\"\");var i=Object(a.useState)(!1),o=i[0],c=i[1],x=Object(a.useState)(t),k=x[0],C=x[1],_=Object(a.useState)([]),O=_[0],q=_[1],j=Object(a.useState)(e),E=j[0],S=j[1],I=Object(a.useCallback)((function(){c(!o)}),[o]),N=Object(a.useCallback)((function(e){C(e.target.value)}),[]),B=Object(a.useCallback)((function(e){var t=e.target,n=t.checked,r=t.value;q(n?function(e){return e.concat(r)}:function(e){return e.filter((function(e){return e!==r}))})}),[]),P=Object(a.useCallback)((function(e){S(e.target.value)}),[]),F=Object(a.useCallback)((function(e){if(e.preventDefault(),!E)return alert(\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694\");c(!1),n.push(\"/search/\".concat(E,\"/\").concat(k))}),[E,k,O]);return p(f,{onSubmit:F},p(l.b,{htmlFor:\"search\",val:E},\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694.\"),p(h,null,p(y,{placeholder:\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694.\",name:\"search\",value:E,onChange:P,autoComplete:\"off\"}),p(m,{onClick:F},p(s.j,null)),p(\"div\",{onClick:I},p(s.d,{style:{width:30,height:30}}))),p(g,{activeFilter:o},p(v,null,p(w,null,\"\\uc815\\ub82c\"),p(b,null,d.sort.map((function(e){return p(\"span\",{key:e.id},p(\"input\",{type:\"radio\",name:\"radio\",id:e.id,value:e.value,onChange:N}),p(\"label\",{htmlFor:e.id},e.text))})))),p(v,null,p(w,null,\"\\uc0c1\\ud0dc\"),p(b,null,d.filter.map((function(e){return p(\"span\",{key:e.id},p(\"input\",{type:\"checkbox\",name:\"checkbox\",id:e.id,value:e.value,onChange:B}),p(\"label\",{htmlFor:e.id},e.text))})))),p(v,null,p(u.a,{text:\"\\uc801\\uc6a9\",type:\"submit\"}))))}},BJE2:function(e){e.exports=JSON.parse('{\"sort\":[{\"id\":\"createdAtDesc\",\"value\":\"createdAt_DESC\",\"text\":\"\\ub4f1\\ub85d\\uc77c \\uc21c\"},{\"id\":\"createdAtAsc\",\"value\":\"createdAt_ASC\",\"text\":\"\\ub4f1\\ub85d\\uc77c \\uc5ed\\uc21c\"}],\"filter\":[{\"id\":\"pub_status\",\"value\":\"PUBLIC\",\"text\":\"\\uacf5\\uac1c\"},{\"id\":\"pri_status\",\"value\":\"PRIVATE\",\"text\":\"\\ube44\\uacf5\\uac1c\"}]}')},UcE7:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/search/[...keyword]\",function(){return n(\"nH6w\")}])},nH6w:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),i=n(\"HaE+\"),o=n(\"q1tI\"),c=n.n(o),u=n(\"VX74\"),l=n(\"ZRao\"),s=n(\"MRKs\"),d=n(\"GEYq\"),p=n(\"O0wy\"),f=n(\"4siG\"),h=n(\"vct6\"),y=n(\"nOHt\"),m=n(\"wx14\"),g=n(\"LYXD\"),v=n(\"vOnD\"),w=c.a.createElement,b=v.d.div.withConfig({displayName:\"NoData__Container\",componentId:\"sc-16cm2gk-0\"})([\"width:100%;text-align:center;\"]),x=function(e){var t=e.children;return w(b,null,t)},k=n(\"Jx5A\"),C=n(\"4e43\"),_=c.a.createElement,O=function(e){var t=e.loading,n=e.loadingMorePosts,r=e.posts,a=e.keyword;return _(c.a.Fragment,null,_(k.a,null,'\"',a,'\" \\uac80\\uc0c9\\uacb0\\uacfc'),t&&n&&_(C.a,null),r.length>0?r.map((function(e){return _(g.a,Object(m.a)({key:e.id},e))})):_(x,null,\"\\uac80\\uc0c9 \\uacb0\\uacfc\\uac00 \\uc5c6\\uc2b5\\ub2c8\\ub2e4.\"))},q=c.a.createElement,j=function(){var e,t,n=Object(y.useRouter)();n.query.keyword&&(e=n.query.keyword[0]||\"\",t=n.query.keyword[1]||\"\");var r=Object(u.useQuery)(d.a,{variables:{searchKeyword:decodeURIComponent(e),orderBy:t,first:10},notifyOnNetworkStatusChange:!0}),a=r.data,i=r.loading,c=r.fetchMore,l=r.networkStatus===u.NetworkStatus.fetchMore,s=function(){if(!i){var n=document.documentElement,r=n.scrollHeight,o=n.clientHeight,u=n.scrollTop;a.getPosts&&u+o===r&&a.getPosts.length%10===0&&c({variables:{skip:a.getPosts.length,searchKeyword:decodeURIComponent(e),orderBy:t}})}};return Object(o.useEffect)((function(){return window.addEventListener(\"scroll\",s),function(){return window.removeEventListener(\"scroll\",s)}}),[a.getPosts,i,e,t]),q(O,{loading:i,loadingMorePosts:l,posts:a.getPosts,keyword:e})},E=n(\"9Coe\"),S=n(\"BJE2\"),I=c.a.createElement,N=v.d.div.withConfig({displayName:\"SearchTag__Container\",componentId:\"n6c13p-0\"})([\"width:100%;margin:0 auto;margin-top:10px;margin-bottom:20px;\"]),B=v.d.span.withConfig({displayName:\"SearchTag__FilterWrapper\",componentId:\"n6c13p-1\"})([\"\",\";display:inline-block;padding:10px;& + &{margin-left:10px;}\"],(function(e){return e.theme.whiteBox})),P=function(e){return Object.keys(e).filter((function(t){return e[t]&&\"keyword\"!==t})).reduce((function(t,n){\"filter\"===n?e[n].split(\",\").forEach((function(e){t.push({query:n,value:e,text:S[n].filter((function(t){return t.value===e}))[0].text})})):t.push({query:n,value:e[n],text:S[n].filter((function(t){return t.value===e[n]}))[0].text});return t}),[])},F=function(){var e=Object(y.useRouter)(),t=Object(o.useState)(P(e.query)),n=t[0],r=t[1],a=Object(o.useCallback)((function(t){var r=n.filter((function(e){return e.text!==t})),a=e.query.keyword,i=\"\",o=r.filter((function(e){return\"sort\"===e.query}));o.length>0&&(i=o[0].value);var c=r.filter((function(e){return\"sort\"!==e.query})).map((function(e){return e.value})).join(\",\");e.push(\"/search?keyword=\".concat(a,\"&sort=\").concat(i,\"&filter=\").concat(c))}),[n,e.query]);return Object(o.useEffect)((function(){r(P(e.query))}),[e.query]),I(N,null,n.map((function(e){return I(B,{key:e.value},e.text,I(\"span\",{\"aria-hidden\":\"true\",style:{marginLeft:10,cursor:\"pointer\"},onClick:function(){return a(e.text)}},\"\\xd7\"))})))},A=c.a.createElement,M=function(){var e=Object(p.i)();return Object(u.useQuery)(s.a,{onCompleted:function(t){var n=t.getMyProfile,r=n.id,a=n.nickname,i=n.email,o=n.avatar,c=n.isMaster;e({type:p.d,userId:r,nickname:a,email:i,avatar:o,isMaster:c})}}),A(f.a,{title:\"\\uac80\\uc0c9\"},A(h.a,null,A(E.a,null),A(F,null),A(j,null)))};M.getInitialProps=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.query).keyword&&(r=n.keyword[0]||\"\",i=n.keyword[1]||\"\"),o=Object(l.a)(),e.next=5,o.query({query:d.a,variables:{first:10,searchKeyword:r,orderBy:i}});case 5:return e.abrupt(\"return\",{initialApolloState:o.cache.extract()});case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=M}},[[\"UcE7\",1,2,6,0,3,4,5,7]]]);","extractedComments":[]}