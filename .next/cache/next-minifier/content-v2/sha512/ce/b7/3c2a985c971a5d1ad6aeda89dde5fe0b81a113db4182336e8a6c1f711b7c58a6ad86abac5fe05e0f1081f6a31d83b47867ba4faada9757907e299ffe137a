{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{\"/EDR\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"23aj\")}])},\"23aj\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSG\",(function(){return oe}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"VX74\"),i=n(\"4siG\"),c=n(\"wx14\"),l=n(\"vOnD\"),s=n(\"LYXD\"),u=n(\"vct6\"),d=n(\"z75s\"),f=n(\"4e43\"),p=n(\"zLVn\"),b=n(\"ZCiN\");var v=function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)},m=n(\"Vhrh\"),h=n(\"TSYQ\"),g=n.n(h),O=n(\"YECM\"),y=n(\"dRu9\"),j=n(\"17x9\"),x=n.n(j),w=n(\"JCAc\"),N=n(\"YdCC\"),C=Object(N.a)(\"carousel-caption\"),E=Object(N.a)(\"carousel-item\"),k=n(\"noGa\"),I=n(\"dbZe\"),S=n(\"vUet\"),_=n(\"z+q/\"),M=40,P={bsPrefix:x.a.string,as:x.a.elementType,slide:x.a.bool,fade:x.a.bool,controls:x.a.bool,indicators:x.a.bool,activeIndex:x.a.number,onSelect:x.a.func,onSlide:x.a.func,onSlid:x.a.func,interval:x.a.number,keyboard:x.a.bool,pause:x.a.oneOf([\"hover\",!1]),wrap:x.a.bool,touch:x.a.bool,prevIcon:x.a.node,prevLabel:x.a.string,nextIcon:x.a.node,nextLabel:x.a.string},T={slide:!0,fade:!1,controls:!0,indicators:!0,defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:\"hover\",wrap:!0,touch:!0,prevIcon:r.a.createElement(\"span\",{\"aria-hidden\":\"true\",className:\"carousel-control-prev-icon\"}),prevLabel:\"Previous\",nextIcon:r.a.createElement(\"span\",{\"aria-hidden\":\"true\",className:\"carousel-control-next-icon\"}),nextLabel:\"Next\"};var L=r.a.forwardRef((function(e,t){var n=Object(w.a)(e,{activeIndex:\"onSelect\"}),o=n.as,i=void 0===o?\"div\":o,l=n.bsPrefix,s=n.slide,u=n.fade,d=n.controls,f=n.indicators,h=n.activeIndex,j=n.onSelect,x=n.onSlide,N=n.onSlid,C=n.interval,E=n.keyboard,P=n.onKeyDown,T=n.pause,L=n.onMouseOver,R=n.onMouseOut,A=n.wrap,D=n.touch,z=n.onTouchStart,X=n.onTouchMove,q=n.onTouchEnd,V=n.prevIcon,$=n.prevLabel,Y=n.nextIcon,B=n.nextLabel,F=n.className,G=n.children,J=Object(p.a)(n,[\"as\",\"bsPrefix\",\"slide\",\"fade\",\"controls\",\"indicators\",\"activeIndex\",\"onSelect\",\"onSlide\",\"onSlid\",\"interval\",\"keyboard\",\"onKeyDown\",\"pause\",\"onMouseOver\",\"onMouseOut\",\"wrap\",\"touch\",\"onTouchStart\",\"onTouchMove\",\"onTouchEnd\",\"prevIcon\",\"prevLabel\",\"nextIcon\",\"nextLabel\",\"className\",\"children\"]),K=Object(S.a)(l,\"carousel\"),Q=Object(a.useRef)(null),U=Object(a.useState)(\"next\"),W=U[0],H=U[1],Z=Object(a.useState)(!1),ee=Z[0],te=Z[1],ne=Object(a.useState)(h||0),ae=ne[0],re=ne[1];ee||h===ae||(Q.current?(H(Q.current),Q.current=null):H((h||0)>ae?\"next\":\"prev\"),s&&te(!0),re(h||0));var oe=r.a.Children.toArray(G).filter(r.a.isValidElement).length,ie=Object(a.useCallback)((function(e){if(!ee){var t=ae-1;if(t<0){if(!A)return;t=oe-1}Q.current=\"prev\",j&&j(t,e)}}),[ee,ae,j,A,oe]),ce=Object(b.a)((function(e){if(!ee){var t=ae+1;if(t>=oe){if(!A)return;t=0}Q.current=\"next\",j&&j(t,e)}})),le=Object(a.useRef)();Object(a.useImperativeHandle)(t,(function(){return{element:le.current,prev:ie,next:ce}}));var se=Object(b.a)((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return\"none\"!==t.display&&\"hidden\"!==t.visibility&&\"none\"!==getComputedStyle(e.parentNode).display}(le.current)&&ce()})),ue=\"next\"===W?\"left\":\"right\";v((function(){s||(x&&x(ae,ue),N&&N(ae,ue))}),[ae]);var de=K+\"-item-\"+W,fe=K+\"-item-\"+ue,pe=Object(a.useCallback)((function(e){Object(_.a)(e),x&&x(ae,ue)}),[x,ae,ue]),be=Object(a.useCallback)((function(){te(!1),N&&N(ae,ue)}),[N,ae,ue]),ve=Object(a.useCallback)((function(e){if(E&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case\"ArrowLeft\":return e.preventDefault(),void ie(e);case\"ArrowRight\":return e.preventDefault(),void ce(e)}P&&P(e)}),[E,P,ie,ce]),me=Object(a.useState)(!1),he=me[0],ge=me[1],Oe=Object(a.useCallback)((function(e){\"hover\"===T&&ge(!0),L&&L(e)}),[T,L]),ye=Object(a.useCallback)((function(e){ge(!1),R&&R(e)}),[R]),je=Object(a.useRef)(0),xe=Object(a.useRef)(0),we=Object(a.useState)(!1),Ne=we[0],Ce=we[1],Ee=Object(m.a)(),ke=Object(a.useCallback)((function(e){je.current=e.touches[0].clientX,xe.current=0,D&&Ce(!0),z&&z(e)}),[D,z]),Ie=Object(a.useCallback)((function(e){e.touches&&e.touches.length>1?xe.current=0:xe.current=e.touches[0].clientX-je.current,X&&X(e)}),[X]),Se=Object(a.useCallback)((function(e){if(D){var t=xe.current;if(Math.abs(t)<=M)return;t>0?ie(e):ce(e)}Ee.set((function(){Ce(!1)}),C||void 0),q&&q(e)}),[D,ie,ce,Ee,C,q]),_e=null!=C&&!he&&!Ne&&!ee,Me=Object(a.useRef)();Object(a.useEffect)((function(){if(_e)return Me.current=window.setInterval(document.visibilityState?se:ce,C||void 0),function(){null!==Me.current&&clearInterval(Me.current)}}),[_e,ce,C,se]);var Pe=Object(a.useMemo)((function(){return f&&Array.from({length:oe},(function(e,t){return function(e){j&&j(t,e)}}))}),[f,oe,j]);return(r.a.createElement(i,Object(c.a)({ref:le},J,{onKeyDown:ve,onMouseOver:Oe,onMouseOut:ye,onTouchStart:ke,onTouchMove:Ie,onTouchEnd:Se,className:g()(F,K,s&&\"slide\",u&&K+\"-fade\")}),f&&r.a.createElement(\"ol\",{className:K+\"-indicators\"},Object(k.a)(G,(function(e,t){return r.a.createElement(\"li\",{key:t,className:t===ae?\"active\":void 0,onClick:Pe?Pe[t]:void 0})}))),r.a.createElement(\"div\",{className:K+\"-inner\"},Object(k.a)(G,(function(e,t){var n=t===ae;return s?r.a.createElement(y.e,{in:n,onEnter:n?pe:void 0,onEntered:n?be:void 0,addEndListener:O.a},(function(t){return r.a.cloneElement(e,{className:g()(e.props.className,n&&\"entered\"!==t&&de,(\"entered\"===t||\"exiting\"===t)&&\"active\",(\"entering\"===t||\"exiting\"===t)&&fe)})})):r.a.cloneElement(e,{className:g()(e.props.className,n&&\"active\")})}))),d&&r.a.createElement(r.a.Fragment,null,(A||0!==h)&&r.a.createElement(I.a,{className:K+\"-control-prev\",onClick:ie},V,$&&r.a.createElement(\"span\",{className:\"sr-only\"},$)),(A||h!==oe-1)&&r.a.createElement(I.a,{className:K+\"-control-next\",onClick:ce},Y,B&&r.a.createElement(\"span\",{className:\"sr-only\"},B)))))}));L.displayName=\"Carousel\",L.propTypes=P,L.defaultProps=T,L.Caption=C,L.Item=E;var R=L,A=r.a.createElement,D=Object(l.d)(R).withConfig({displayName:\"Carousel__Container\",componentId:\"sc-13ptfzp-0\"})([\"width:100%;height:100%;& .carousel-control-next,.carousel-control-prev{width:5%;}& .carousel-inner,.carousel-item{width:100%;height:100%;}\"]),z=(l.d.div.withConfig({displayName:\"Carousel__CarouselColumn\",componentId:\"sc-13ptfzp-1\"})([\"display:flex;width:100%;height:100%;align-items:center;padding:0 50px;box-sizing:border-box;overflow:hidden;\"]),l.d.div.withConfig({displayName:\"Carousel__CarouselItem\",componentId:\"sc-13ptfzp-2\"})([\"flex:1 padding:10px;& + &{margin-left:10px;}\"]),function(e){var t=e.children;return A(D,{indicators:!1,nextIcon:A(d.h,null),prevIcon:A(d.h,{style:{transform:\"rotate(180deg)\"}})},t)}),X=n(\"qXo3\"),q=n(\"O0wy\"),V=r.a.createElement,$=l.d.div.withConfig({displayName:\"NoticeList__NoticeWrapper\",componentId:\"ztp66g-0\"})([\"height:50px;display:flex;flex-direction:column;justify-content:center;margin-right:15%;margin-left:15%;padding:5px;text-align:center;cursor:pointer;\"]),Y=Object(a.memo)((function(e){var t=e.notices,n=Object(q.k)(),r=Object(q.l)().isMaster,o=Object(a.useCallback)((function(e,t,a){n({type:q.g,action:r?\"modifiable\":\"readonly\",actionText:\"\",title:e,description:t,noticeId:a})}),[r]);return V(z,null,t.map((function(e){var t=e.id,n=e.title,a=e.description,r=e.updatedAt;return V(R.Item,{key:t},V($,{onClick:function(){return o(n,a,t)}},V(\"div\",null,n),V(X.a,{text:r})))})))})),B=n(\"Jx5A\"),F=n(\"IvCV\"),G=r.a.createElement,J=l.d.div.withConfig({displayName:\"FeedPresenter__PostWrap\",componentId:\"sc-15sy3a5-0\"})([\"width:600px;\",\"{width:100%;}\"],(function(e){return e.theme.media.tablet})),K=l.d.div.withConfig({displayName:\"FeedPresenter__UserWrap\",componentId:\"sc-15sy3a5-1\"})([\"width:300px;display:flex;flex-direction:column;justfiy-content:space-between;margin-left:20px;& > aside{flex:1;}\",\"{display:none;}\"],(function(e){return e.theme.media.tablet})),Q=l.d.div.withConfig({displayName:\"FeedPresenter__StickyWrap\",componentId:\"sc-15sy3a5-2\"})([\"position:sticky;top:80px;\"]),U=function(e){var t=e.loading,n=e.loadingMorePosts,a=e.posts,r=e.notices,o=e.isMaster,i=e.onAddNotice,l=e.recommandUserEl;return G(u.a,{flexDirection:\"row\"},t&&n&&G(f.a,null),G(J,null,G(B.a,null,\"\\uc2e0\\uaddc \\ud3ec\\uc2a4\\ud2b8\"),a.length>0?a.map((function(e){return G(s.a,Object(c.a)({key:e.id},e))})):G(F.a,null,G(\"h1\",null,\"\\uac8c\\uc2dc\\uae00\\uc774 \\uc5c6\\uc2b5\\ub2c8\\ub2e4.\"))),G(K,{ref:l},G(\"aside\",null,G(Q,null,G(\"div\",null,G(B.a,{activeBorder:!0},G(\"span\",null,\"\\uacf5\\uc9c0\\uc0ac\\ud56d\"),G(\"div\",null,o&&G(\"div\",{onClick:i},G(d.a,null)))),r.length>0?G(Y,{notices:r}):G(F.a,null,G(\"h1\",null,\"\\uacf5\\uc9c0\\uc0ac\\ud56d\\uc774 \\uc5c6\\uc2b5\\ub2c8\\ub2e4.\")))))))},W=n(\"GEYq\"),H=n(\"h4VS\");function Z(){var e=Object(H.a)([\"\\n  query getNotices($skip: Int, $first: Int, $orderBy: String) {\\n    getNotices(skip: $skip, first: $first, orderBy: $orderBy) {\\n      id\\n      title\\n      description\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);return Z=function(){return e},e}var ee=Object(o.gql)(Z()),te=r.a.createElement,ne=function(){var e=Object(q.l)().isMaster,t=Object(q.k)(),n=Object(a.useRef)(null),r=Object(o.useQuery)(W.a,{variables:{first:10},notifyOnNetworkStatusChange:!0}),i=r.data,c=r.loading,l=r.fetchMore,s=r.networkStatus,u=Object(o.useQuery)(ee,{variables:{first:10},notifyOnNetworkStatusChange:!0}).data,d=s===o.NetworkStatus.fetchMore,f=function(){if(!c){var e=document.documentElement,t=e.scrollHeight,n=e.clientHeight,a=e.scrollTop;i.getPosts&&a+n===t&&i.getPosts.length%10===0&&l({variables:{skip:i.getPosts.length}})}},p=Object(a.useCallback)((function(){t({type:q.g,action:\"add\",actionText:\"\\ub4f1\\ub85d\",title:\"\",description:\"\",noticeId:\"\"})}),[]);return Object(a.useEffect)((function(){return window.addEventListener(\"scroll\",f),function(){return window.removeEventListener(\"scroll\",f)}}),[i&&i.getPosts,c]),te(U,{loading:c,loadingMorePosts:d,posts:i.getPosts,notices:u.getNotices,isMaster:e,onAddNotice:p,recommandUserEl:n})},ae=n(\"MRKs\"),re=r.a.createElement,oe=!0;t.default=function(){var e=Object(q.k)();return Object(o.useQuery)(ae.a,{ssr:!1,onCompleted:function(t){var n=t.getMyProfile,a=n.id,r=n.nickname,o=n.email,i=n.avatar,c=n.isMaster;e({type:q.e,userId:a,nickname:r,email:o,avatar:i,isMaster:c})}}),re(i.a,null,re(ne,null))}}},[[\"/EDR\",1,2,6,0,3,4,5]]]);","extractedComments":[]}