{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"8dkK\":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/search\",function(){return t(\"easm\")}])},easm:function(e,n,t){\"use strict\";t.r(n);var r=t(\"o0o1\"),a=t.n(r),o=t(\"HaE+\"),i=t(\"q1tI\"),c=t.n(i),l=t(\"VX74\"),s=t(\"ZRao\"),d=t(\"h4VS\");function u(){var e=Object(d.a)([\"\\n  query feed($skip: Int, $first: Int, $keyword: String!, $orderBy: String) {\\n    getPosts(\\n      skip: $skip\\n      first: $first\\n      searchKeyword: $keyword\\n      orderBy: $orderBy\\n    ) {\\n      id\\n      title\\n      description\\n      createdAt\\n      user {\\n        id\\n        nickname\\n        avatar {\\n          url\\n        }\\n      }\\n      video {\\n        url\\n      }\\n      likes {\\n        user {\\n          id\\n        }\\n      }\\n      status\\n      room {\\n        id\\n      }\\n    }\\n    getUsers(skip: $skip, first: $first, nickname: $keyword) {\\n      id\\n      nickname\\n      email\\n      avatar {\\n        url\\n      }\\n      isMaster\\n      followedBy {\\n        id\\n      }\\n      following {\\n        id\\n      }\\n      posts {\\n        id\\n      }\\n    }\\n    getRecommandUsers {\\n      id\\n      nickname\\n      email\\n      avatar {\\n        url\\n      }\\n      isMaster\\n      followedBy {\\n        id\\n      }\\n      following {\\n        id\\n      }\\n      posts {\\n        id\\n      }\\n    }\\n  }\\n\"]);return u=function(){return e},e}var f=Object(l.gql)(u()),m=t(\"MRKs\"),b=t(\"O0wy\"),p=t(\"4siG\"),v=t(\"vct6\"),h=t(\"nOHt\"),y=t(\"2207\"),g=t(\"wx14\"),O=t(\"vOnD\"),j=t(\"3Xhf\"),w=t(\"K49Q\"),E=c.a.createElement,C=O.d.div.withConfig({displayName:\"SearchUserItem__Container\",componentId:\"sc-1sixq18-0\"})([\"\",\";width:300px;display:flex;flex-direction:column;overflow:hidden;z-index:100;\",\"{width:100%;}\"],(function(e){return e.theme.whiteBox}),(function(e){return e.theme.media.phone})),x=function(e){var n=e.id,t=e.nickname,r=e.avatar,a=e.followedBy,o=e.following,i=e.posts,c=Object(b.l)().userId,l=a.some((function(e){return e.id===c}));return E(C,null,E(j.b,{src:r.url}),E(j.a,null,E(\"div\",null,t),E(\"div\",null,c&&n!==c&&E(w.a,{userId:c,isFollowing:l}))),E(j.a,null,E(\"span\",{className:\"info\"},\"\\ud3ec\\uc2a4\\ud2b8: \",i.length),E(\"span\",{className:\"info\"},\"\\ud314\\ub85c\\uc6cc: \",a.length),E(\"span\",{className:\"info\"},\"\\ud314\\ub85c\\uc789: \",o.length)))},k=t(\"Jx5A\"),N=c.a.createElement,P=O.d.div.withConfig({displayName:\"SearchUserPresenter__Container\",componentId:\"sc-1lpfv6n-0\"})([\"width:100%;display:flex;height:230px;flex-direction:row;gap:15px;margin-bottom:10px;\",\"{flex-direction:column;height:auto;}\"],(function(e){return e.theme.media.phone})),_=Object(i.memo)((function(e){var n=e.users,t=e.recommandUsers,r=e.keyword;return N(c.a.Fragment,null,N(k.a,null,'\"',r,'\"\\uc5d0 \\ub300\\ud55c \\uac80\\uc0c9\\uacb0\\uacfc'),0===n.length&&N(k.a,null,\"\\ucd94\\ucc9c \\uc0ac\\uc6a9\\uc790\"),N(P,null,n.length>0?n.map((function(e){return N(x,Object(g.a)({key:e.id},e))})):t.map((function(e){return N(x,Object(g.a)({key:e.id},e))}))))})),S=c.a.createElement,I=function(){var e=Object(h.useRouter)(),n=decodeURIComponent(e.query.keyword),t=Object(l.useQuery)(y.c,{variables:{keyword:n,first:10}}).data,r=Object(l.useQuery)(y.a).data;return S(_,{users:t.getUsers,recommandUsers:r.getRecommandUsers,keyword:n})},B=t(\"zLVn\"),M=t(\"TSYQ\"),R=t.n(M),A=t(\"JCAc\"),K=t(\"vUet\"),U=t(\"ILyh\"),q=c.a.createContext(null);q.displayName=\"AccordionContext\";var $=q;var D,T=c.a.forwardRef((function(e,n){var t=e.as,r=void 0===t?\"button\":t,a=e.children,o=e.eventKey,l=e.onClick,s=Object(B.a)(e,[\"as\",\"children\",\"eventKey\",\"onClick\"]),d=function(e,n){var t=Object(i.useContext)($),r=Object(i.useContext)(U.a);return function(a){r&&r(e===t?null:e,a),n&&n(a)}}(o,l);return\"button\"===r&&(s.type=\"button\"),c.a.createElement(r,Object(g.a)({ref:n,onClick:d},s),a)})),L=t(\"7j6X\"),z=t(\"YECM\"),H=t(\"dRu9\"),Q=t(\"Qg85\"),V=t(\"z+q/\"),X={height:[\"marginTop\",\"marginBottom\"],width:[\"marginLeft\",\"marginRight\"]};function F(e,n){var t=n[\"offset\"+e[0].toUpperCase()+e.slice(1)],r=X[e];return t+parseInt(Object(L.a)(n,r[0]),10)+parseInt(Object(L.a)(n,r[1]),10)}var Y=((D={})[H.c]=\"collapse\",D[H.d]=\"collapsing\",D[H.b]=\"collapsing\",D[H.a]=\"collapse show\",D),J={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:F},G=c.a.forwardRef((function(e,n){var t=e.onEnter,r=e.onEntering,a=e.onEntered,o=e.onExit,l=e.onExiting,s=e.className,d=e.children,u=e.dimension,f=void 0===u?\"height\":u,m=e.getDimensionValue,b=void 0===m?F:m,p=Object(B.a)(e,[\"onEnter\",\"onEntering\",\"onEntered\",\"onExit\",\"onExiting\",\"className\",\"children\",\"dimension\",\"getDimensionValue\"]),v=\"function\"===typeof f?f():f,h=Object(i.useMemo)((function(){return Object(Q.a)((function(e){e.style[v]=\"0\"}),t)}),[v,t]),y=Object(i.useMemo)((function(){return Object(Q.a)((function(e){var n=\"scroll\"+v[0].toUpperCase()+v.slice(1);e.style[v]=e[n]+\"px\"}),r)}),[v,r]),O=Object(i.useMemo)((function(){return Object(Q.a)((function(e){e.style[v]=null}),a)}),[v,a]),j=Object(i.useMemo)((function(){return Object(Q.a)((function(e){e.style[v]=b(v,e)+\"px\",Object(V.a)(e)}),o)}),[o,b,v]),w=Object(i.useMemo)((function(){return Object(Q.a)((function(e){e.style[v]=null}),l)}),[v,l]);return c.a.createElement(H.e,Object(g.a)({ref:n,addEndListener:z.a},p,{\"aria-expanded\":p.role?p.in:null,onEnter:h,onEntering:y,onEntered:O,onExit:j,onExiting:w}),(function(e,n){return c.a.cloneElement(d,Object(g.a)({},n,{className:R()(s,d.props.className,Y[e],\"width\"===v&&\"width\")}))}))}));G.defaultProps=J;var Z=G,W=c.a.forwardRef((function(e,n){var t=e.children,r=e.eventKey,a=Object(B.a)(e,[\"children\",\"eventKey\"]),o=Object(i.useContext)($);return c.a.createElement(Z,Object(g.a)({ref:n,in:o===r},a),c.a.createElement(\"div\",null,c.a.Children.only(t)))}));W.displayName=\"AccordionCollapse\";var ee=W,ne=c.a.forwardRef((function(e,n){var t=Object(A.a)(e,{activeKey:\"onSelect\"}),r=t.as,a=void 0===r?\"div\":r,o=t.activeKey,i=t.bsPrefix,l=t.children,s=t.className,d=t.onSelect,u=Object(B.a)(t,[\"as\",\"activeKey\",\"bsPrefix\",\"children\",\"className\",\"onSelect\"]),f=R()(s,Object(K.a)(i,\"accordion\"));return c.a.createElement($.Provider,{value:o||null},c.a.createElement(U.a.Provider,{value:d||null},c.a.createElement(a,Object(g.a)({ref:n},u,{className:f}),l)))}));ne.displayName=\"Accordion\",ne.Toggle=T,ne.Collapse=ee;var te=ne,re=t(\"YdCC\"),ae=t(\"U1MP\"),oe=c.a.createContext(null);oe.displayName=\"CardContext\";var ie=oe,ce=c.a.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.variant,o=e.as,i=void 0===o?\"img\":o,l=Object(B.a)(e,[\"bsPrefix\",\"className\",\"variant\",\"as\"]),s=Object(K.a)(t,\"card-img\");return c.a.createElement(i,Object(g.a)({ref:n,className:R()(a?s+\"-\"+a:s,r)},l))}));ce.displayName=\"CardImg\",ce.defaultProps={variant:null};var le=ce,se=Object(ae.a)(\"h5\"),de=Object(ae.a)(\"h6\"),ue=Object(re.a)(\"card-body\"),fe=Object(re.a)(\"card-title\",{Component:se}),me=Object(re.a)(\"card-subtitle\",{Component:de}),be=Object(re.a)(\"card-link\",{Component:\"a\"}),pe=Object(re.a)(\"card-text\",{Component:\"p\"}),ve=Object(re.a)(\"card-header\"),he=Object(re.a)(\"card-footer\"),ye=Object(re.a)(\"card-img-overlay\"),ge=c.a.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.bg,o=e.text,l=e.border,s=e.body,d=e.children,u=e.as,f=void 0===u?\"div\":u,m=Object(B.a)(e,[\"bsPrefix\",\"className\",\"bg\",\"text\",\"border\",\"body\",\"children\",\"as\"]),b=Object(K.a)(t,\"card\"),p=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:b+\"-header\"}}),[b]);return c.a.createElement(ie.Provider,{value:p},c.a.createElement(f,Object(g.a)({ref:n},m,{className:R()(r,b,a&&\"bg-\"+a,o&&\"text-\"+o,l&&\"border-\"+l)}),s?c.a.createElement(ue,null,d):d))}));ge.displayName=\"Card\",ge.defaultProps={body:!1},ge.Img=le,ge.Title=fe,ge.Subtitle=me,ge.Body=ue,ge.Link=be,ge.Text=pe,ge.Header=ve,ge.Footer=he,ge.ImgOverlay=ye;var Oe=ge,je=c.a.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.striped,o=e.bordered,i=e.borderless,l=e.hover,s=e.size,d=e.variant,u=e.responsive,f=Object(B.a)(e,[\"bsPrefix\",\"className\",\"striped\",\"bordered\",\"borderless\",\"hover\",\"size\",\"variant\",\"responsive\"]),m=Object(K.a)(t,\"table\"),b=R()(r,m,d&&m+\"-\"+d,s&&m+\"-\"+s,a&&m+\"-striped\",o&&m+\"-bordered\",i&&m+\"-borderless\",l&&m+\"-hover\"),p=c.a.createElement(\"table\",Object(g.a)({},f,{className:b,ref:n}));if(u){var v=m+\"-responsive\";return\"string\"===typeof u&&(v=v+\"-\"+u),c.a.createElement(\"div\",{className:v},p)}return p})),we=t(\"LYXD\"),Ee=t(\"IvCV\"),Ce=t(\"4e43\"),xe=c.a.createElement,ke=O.d.div.withConfig({displayName:\"SearchPostPresenter__Filter\",componentId:\"sc-3o7za7-0\"})([\"\",\";width:100%;height:auto;margin-bottom:30px;& .accordion{width:100%;}& .card{border:none;}& .card-header{border:none;cursor:pointer;background:\",\";}& .table thead th{border:none;border-bottom:\",\";}& td{border:none;}\"],(function(e){return e.theme.whiteBox}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.boxBorder})),Ne=O.d.td.withConfig({displayName:\"SearchPostPresenter__StyledTd\",componentId:\"sc-3o7za7-1\"})([\"cursor:pointer;font-weight:\",\";\"],(function(e){return e.active?\"bold\":500})),Pe=function(e){var n=e.loading,t=e.loadingMorePosts,r=e.posts,a=e.orderBy,o=e.onSort;return xe(c.a.Fragment,null,xe(k.a,null,\"\\ud3ec\\uc2a4\\ud2b8 \\uac80\\uc0c9\\uacb0\\uacfc\"),n&&t&&xe(Ce.a,null),r.length>0&&xe(ke,null,xe(te,null,xe(Oe,null,xe(te.Toggle,{as:Oe.Header,eventKey:\"0\"},xe(\"h1\",null,\"\\ud544\\ud130\")),xe(te.Collapse,{eventKey:\"0\"},xe(Oe.Body,null,xe(je,{responsive:!0},xe(\"thead\",null,xe(\"tr\",null,xe(\"th\",null,\"\\uc815\\ub82c\\uae30\\uc900\"))),xe(\"tbody\",null,xe(\"tr\",null,xe(Ne,{onClick:function(){return o(\"createdAt_DESC\")},active:\"createdAt_DESC\"===a},\"\\ub4f1\\ub85d\\uc77c \\uc21c\")),xe(\"tr\",null,xe(Ne,{onClick:function(){return o(\"createdAt_ASC\")},active:\"createdAt_ASC\"===a},\"\\ub4f1\\ub85d\\uc77c \\uc5ed\\uc21c\")),xe(\"tr\",null,xe(Ne,{onClick:function(){return o(\"title_ASC\")},active:\"title_ASC\"===a},\"\\uac00\\ub098\\ub2e4 \\uc21c\")),xe(\"tr\",null,xe(Ne,{onClick:function(){return o(\"title_DESC\")},active:\"title_DESC\"===a},\"\\uac00\\ub098\\ub2e4 \\uc5ed\\uc21c\"))))))))),r.length>0?r.map((function(e){return xe(we.a,Object(g.a)({key:e.id},e))})):xe(Ee.a,null,\"\\uac80\\uc0c9 \\uacb0\\uacfc\\uac00 \\uc5c6\\uc2b5\\ub2c8\\ub2e4.\"))},_e=t(\"GEYq\"),Se=c.a.createElement,Ie=function(){var e=Object(h.useRouter)(),n=e.query,t=n.keyword,r=n.orderBy,a=Object(l.useQuery)(_e.a,{variables:{searchKeyword:decodeURIComponent(t),orderBy:r,first:10},notifyOnNetworkStatusChange:!0}),o=a.data,c=a.loading,s=a.fetchMore,d=a.networkStatus===l.NetworkStatus.fetchMore,u=function(){if(!c){var e=document.documentElement,n=e.scrollHeight,t=e.clientHeight,r=e.scrollTop;o.getPosts&&r+t===n&&o.getPosts.length%10===0&&s({variables:{skip:o.getPosts.length}})}},f=Object(i.useCallback)((function(n){e.push(\"/search?keyword=\".concat(t,\"&orderBy=\").concat(n))}),[]);return Object(i.useEffect)((function(){return window.addEventListener(\"scroll\",u),function(){return window.removeEventListener(\"scroll\",u)}}),[o.getPosts,c]),Se(Pe,{loading:c,loadingMorePosts:d,posts:o.getPosts,orderBy:r,onSort:f})},Be=c.a.createElement,Me=function(){var e=Object(b.k)();return Object(l.useQuery)(m.a,{ssr:!1,onCompleted:function(n){var t=n.getMyProfile,r=t.id,a=t.nickname,o=t.email,i=t.avatar,c=t.isMaster;e({type:b.e,userId:r,nickname:a,email:o,avatar:i,isMaster:c})}}),Be(p.a,{title:\"\\uac80\\uc0c9\\uacb0\\uacfc\"},Be(v.a,null,Be(I,null),Be(Ie,null)))};Me.getInitialProps=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query,r=t.keyword,o=t.orderBy,i=void 0===o?\"createdAt_DESC\":o,c=Object(s.a)(),e.next=5,c.query({query:f,variables:{first:10,keyword:r,orderBy:i}});case 5:return e.abrupt(\"return\",{props:{initialApolloState:c.cache.extract()}});case 6:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.default=Me}},[[\"8dkK\",1,2,6,0,3,4,5,7]]]);","extractedComments":[]}