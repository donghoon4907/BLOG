{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{\"9Coe\":function(e,t,n){\"use strict\";var r=n(\"nOHt\"),a=n(\"q1tI\"),i=n.n(a),o=n(\"vOnD\"),c=n(\"4lbY\"),u=n(\"Okwz\"),l=n(\"ppIK\"),s=n(\"z75s\"),d=n(\"BJE2\"),p=i.a.createElement,f=o.d.form.withConfig({displayName:\"SearchBar__SearchForm\",componentId:\"sc-118hiqe-0\"})([\"position:relative;margin:0 auto;width:100%;\"]),h=o.d.div.withConfig({displayName:\"SearchBar__Wrapper\",componentId:\"sc-118hiqe-1\"})([\"position:relative;display:flex;justify-content:space-between;\"]),y=Object(o.d)(c.a).withConfig({displayName:\"SearchBar__SearchInput\",componentId:\"sc-118hiqe-2\"})([\"background:\",\";padding:5px;font-size:14px;border-radius:3px;text-align:center;position:relative;&::placeholder{opacity:0.8;font-weight:200;}\"],(function(e){return e.theme.bgColor})),m=o.d.div.withConfig({displayName:\"SearchBar__IconWrapper\",componentId:\"sc-118hiqe-3\"})([\"position:absolute;right:35px;top:5px;\"]),g=o.d.div.withConfig({displayName:\"SearchBar__FilterWrapper\",componentId:\"sc-118hiqe-4\"})([\"\",\";margin-top:5px;width:100%;height:auto;display:\",\";flex-direction:column;\"],(function(e){return e.theme.whiteBox}),(function(e){return e.activeFilter?\"flex\":\"none\"})),v=o.d.div.withConfig({displayName:\"SearchBar__FilterColumn\",componentId:\"sc-118hiqe-5\"})([\"display:flex;justfiy-content:flex-start;align-items:center;padding:10px;\"]),w=o.d.div.withConfig({displayName:\"SearchBar__FilterCategory\",componentId:\"sc-118hiqe-6\"})([\"font-size:20px;font-weight:500;text-align:center;padding:10px;\"]),b=o.d.div.withConfig({displayName:\"SearchBar__FilterSelector\",componentId:\"sc-118hiqe-7\"})([\"font-size:16px;padding:10px;flex:1;& input{margin-right:5px;}& span{margin-left:10px;}\"]);t.a=function(){var e,t,n=Object(r.useRouter)();n.query.keyword&&n.query.keyword.length>0&&n.query.keyword.forEach((function(n){var r=n.split(\"=\");\"searchKeyword\"===r[0]?e=r[1]:\"sort\"===r[0]&&(t=r[1])}));var i=Object(a.useState)(!1),o=i[0],c=i[1],x=Object(a.useState)(t||\"\"),O=x[0],k=x[1],j=Object(a.useState)([]),_=j[0],C=j[1],E=Object(a.useState)(e||\"\"),S=E[0],q=E[1],P=Object(a.useCallback)((function(){c(!o)}),[o]),I=Object(a.useCallback)((function(e){k(e.target.value)}),[]),N=Object(a.useCallback)((function(e){var t=e.target,n=t.checked,r=t.value;C(n?function(e){return e.concat(r)}:function(e){return e.filter((function(e){return e!==r}))})}),[]),B=Object(a.useCallback)((function(e){q(e.target.value)}),[]),F=Object(a.useCallback)((function(e){if(e.preventDefault(),!S)return alert(\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694\");c(!1);var t=\"/search\";S&&(t+=\"/searchKeyword=\".concat(S)),O&&(t+=\"/orderBy=\".concat(O)),_.forEach((function(e){t+=\"/filter=\".concat(e)})),n.push(t)}),[S,O,_]);return p(f,{onSubmit:F},p(l.b,{htmlFor:\"search\",val:S},\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694.\"),p(h,null,p(y,{placeholder:\"\\uac80\\uc0c9\\uc5b4\\ub97c \\uc785\\ub825\\ud558\\uc138\\uc694.\",name:\"search\",value:S,onChange:B,autoComplete:\"off\"}),p(m,{onClick:F},p(s.j,null)),p(\"div\",{onClick:P},p(s.d,{style:{width:30,height:30}}))),p(g,{activeFilter:o},p(v,null,p(w,null,\"\\uc815\\ub82c\"),p(b,null,d.sort.map((function(e){return p(\"span\",{key:e.id},p(\"input\",{type:\"radio\",name:\"radio\",id:e.id,value:e.value,onChange:I}),p(\"label\",{htmlFor:e.id},e.text))})))),p(v,null,p(w,null,\"\\uc0c1\\ud0dc\"),p(b,null,d.filter.map((function(e){return p(\"span\",{key:e.id},p(\"input\",{type:\"checkbox\",name:\"checkbox\",id:e.id,value:e.value,onChange:N}),p(\"label\",{htmlFor:e.id},e.text))})))),p(v,null,p(u.a,{text:\"\\uc801\\uc6a9\",type:\"submit\"}))))}},BJE2:function(e){e.exports=JSON.parse('{\"sort\":[{\"id\":\"createdAtDesc\",\"value\":\"createdAt_DESC\",\"text\":\"\\ub4f1\\ub85d\\uc77c \\uc21c\"},{\"id\":\"createdAtAsc\",\"value\":\"createdAt_ASC\",\"text\":\"\\ub4f1\\ub85d\\uc77c \\uc5ed\\uc21c\"}],\"filter\":[{\"id\":\"pub_status\",\"value\":\"PUBLIC\",\"text\":\"\\uacf5\\uac1c\"},{\"id\":\"pri_status\",\"value\":\"PRIVATE\",\"text\":\"\\ube44\\uacf5\\uac1c\"}]}')},UcE7:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/search/[...keyword]\",function(){return n(\"nH6w\")}])},nH6w:function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),i=n(\"HaE+\"),o=n(\"q1tI\"),c=n.n(o),u=n(\"VX74\"),l=n(\"ZRao\"),s=n(\"MRKs\"),d=n(\"GEYq\"),p=n(\"O0wy\"),f=n(\"4siG\"),h=n(\"vct6\"),y=n(\"rePB\"),m=n(\"nOHt\"),g=n(\"wx14\"),v=n(\"LYXD\"),w=n(\"vOnD\"),b=c.a.createElement,x=w.d.div.withConfig({displayName:\"NoData__Container\",componentId:\"sc-16cm2gk-0\"})([\"width:100%;text-align:center;\"]),O=function(e){var t=e.children;return b(x,null,t)},k=n(\"Jx5A\"),j=n(\"4e43\"),_=c.a.createElement,C=function(e){var t=e.loading,n=e.loadingMorePosts,r=e.posts,a=e.keyword;return _(c.a.Fragment,null,_(k.a,null,'\"',a,'\" \\uac80\\uc0c9\\uacb0\\uacfc'),t&&n&&_(j.a,null),r.length>0?r.map((function(e){return _(v.a,Object(g.a)({key:e.id},e))})):_(O,null,\"\\uac80\\uc0c9 \\uacb0\\uacfc\\uac00 \\uc5c6\\uc2b5\\ub2c8\\ub2e4.\"))},E=c.a.createElement;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){var e=Object(m.useRouter)(),t={first:10};e.query.keyword.forEach((function(e){var n=e.split(\"=\");t[n[0]]=n[1]}));var n=Object(u.useQuery)(d.a,{variables:t,notifyOnNetworkStatusChange:!0}),r=n.data,a=n.loading,i=n.fetchMore,c=n.networkStatus===u.NetworkStatus.fetchMore,l=function(){if(!a){var e=document.documentElement,n=e.scrollHeight,o=e.clientHeight,c=e.scrollTop;r.getPosts&&c+o===n&&r.getPosts.length%10===0&&i({variables:q(q({},t),{},{skip:r.getPosts.length})})}};return Object(o.useEffect)((function(){return window.addEventListener(\"scroll\",l),function(){return window.removeEventListener(\"scroll\",l)}}),[r.getPosts,a]),E(C,{loading:a,loadingMorePosts:c,posts:r.getPosts,keyword:t.searchKeyword||\"\"})},I=n(\"9Coe\"),N=n(\"BJE2\"),B=c.a.createElement,F=w.d.div.withConfig({displayName:\"SearchTag__Container\",componentId:\"n6c13p-0\"})([\"width:100%;margin:0 auto;margin-top:10px;margin-bottom:20px;\"]),D=w.d.span.withConfig({displayName:\"SearchTag__FilterWrapper\",componentId:\"n6c13p-1\"})([\"\",\";display:inline-block;padding:10px;& + &{margin-left:10px;}\"],(function(e){return e.theme.whiteBox})),A=N.sort.concat(N.filter),K=function(e){return e.map((function(e){var t=e.split(\"=\");return{query:t[0],value:t[1],text:\"searchKeyword\"!==t[0]?A.filter((function(e){return e.value===t[1]}))[0].text:\"\"}}))},M=function(){var e=Object(m.useRouter)(),t=Object(o.useState)(K(e.query.keyword)),n=t[0],r=t[1],a=Object(o.useCallback)((function(t){var a=n.filter((function(e){return e.text!==t}));r(a);var i=a.find((function(e){return\"searchKeyword\"===e.query})),o=a.find((function(e){return\"orderBy\"===e.query})),c=a.filter((function(e){return\"filter\"===e.query})),u=\"/search/searchKeyword=\".concat(i.value);o&&(u+=\"/orderBy=\".concat(o.value)),c.forEach((function(e){u+=\"/filter=\".concat(e.value)})),e.push(u)}),[n,e.query]);return Object(o.useEffect)((function(){r(K(e.query.keyword))}),[e.query.keyword]),B(F,null,n.filter((function(e){return e.text})).map((function(e){return B(D,{key:e.value},e.text,B(\"span\",{\"aria-hidden\":\"true\",style:{marginLeft:10,cursor:\"pointer\"},onClick:function(){return a(e.text)}},\"\\xd7\"))})))},H=c.a.createElement,J=function(){var e=Object(p.i)();return Object(u.useQuery)(s.a,{onCompleted:function(t){var n=t.getMyProfile,r=n.id,a=n.nickname,i=n.email,o=n.avatar,c=n.isMaster;e({type:p.d,userId:r,nickname:a,email:i,avatar:o,isMaster:c})}}),H(f.a,{title:\"\\uac80\\uc0c9\"},H(h.a,null,H(I.a,null),H(M,null),H(P,null)))};J.getInitialProps=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r={first:10},n.keyword.forEach((function(e){var t=e.split(\"=\");r[t[0]]=t[1]})),i=Object(l.a)(),e.next=6,i.query({query:d.a,variables:r});case 6:return e.abrupt(\"return\",{initialApolloState:i.cache.extract()});case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=J}},[[\"UcE7\",1,2,6,0,3,4,5,7]]]);","extractedComments":[]}